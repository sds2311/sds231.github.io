<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temple Escape Game</title>
    <link rel="stylesheet" href="style2.css">
</head>
<body>
    <div class="lives-container">
        Lives: <span id="current-lives">3</span>/3
    </div>

    <h1>PUZZLE 1</h1>
    <div class="puzzle">
        <button class="music" onclick="toggleMusic()">Play Music</button>
        <img src="images/puzzleScroll.png" alt="puzzle title">
        <input type="text" id="guess">
        <img src="images/pigpenHelp.png" alt="puzzle title" id="pigpenHelp">
        <input type="text" id="help">
        <audio id="backgroundMusic" src="music/puzzle1.mp3" preload="auto" loop></audio>
    </div>

    <script>
        let lives = 3;
    const helpInput = document.getElementById('help');
    const guessInput = document.getElementById('guess');
    const livesElement = document.getElementById('current-lives');
    let musicPlay = false;

    helpInput.addEventListener('keyup', function(event) {
    if (event.key === 'Enter') {
        checkHelp(this);
    }
    });

    guessInput.addEventListener('keyup', function(event) {
    if (event.key === 'Enter') {
        checkAnswer(this);
    }
    });

    function checkHelp(input) {
        const correctAns = 'pigpen';
        const isCorrect = input.value.toLowerCase() === correctAns;
        if(isCorrect)
        {
            document.getElementById('pigpenHelp').src = 'images/pigpenScroll.png';
        }
        else
        {
            lives = Math.max(0, lives - 1);
            livesElement.textContent = lives;
            if(lives <= 0) {
            window.location.href = 'gameover.html';
        }
        return isCorrect;
    }
}

    function checkAnswer(input) {
        const correctAns = 'fire';
        const isCorrect = input.value.toLowerCase() === correctAns;
        if(isCorrect)
        {
            window.location.href = 'puzzle2.html';
        }
        else
        {
            lives = Math.max(0, lives - 1);
            livesElement.textContent = lives;
            if(lives <= 0) {
            window.location.href = 'gameover.html';
        }
        return isCorrect;
    }
}

    function toggleMusic() {
        let music = document.getElementById("backgroundMusic");
        let button = document.querySelector(".music");
        if(musicPlay)
        {
          music.pause();
          button.textContent = "Play Music"
        }
        else
        {
          music.play();
          button.textContent = "Pause Music"
        }
        musicPlay = !musicPlay;
    }
    </script>
</body>
</html>